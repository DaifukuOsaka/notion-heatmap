<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css">
  <script src="https://unpkg.com/cal-heatmap/dist/plugins/Legend.min.js"></script>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/cal-heatmap/dist/plugins/Tooltip.min.js"></script>
  <sript src="./js/main.js"></sript>
  <title>Document</title>
</head>

<body>
  <h1>HEllo</h1>
  <div id="cal-heatmap"></div>
  <div id="legend-label"></div>
  <script>
    const cal = new CalHeatmap();
    cal.paint({
      data: {
        source: 'http://localhost:8000/pomos',
        type: "json",
        x: "date",
        y: "cumPomos"
      },
      domain: {
        type: "month"
      },
      subDomain: {
        type: "day"
      },
      scale: {
        color: {
          // Try some values: Purple, Blues, Turbo, Magma, etc ...
          scheme: 'Cool',
          type: 'linear',
          domain: [0, 20],
        },
      }
    }, [
      [
        Tooltip,
        {
          text: function (date, value, dayjsDate) {
            return (
              (value ? value + ' Pomos' : 'No data') +
              ' on ' +
              dayjsDate.format('LL')
            );
          },
        },
      ],
      [
        Legend,
        {
          label: 'Focusing Pomos',
          itemSelector: '#legend-label',
        },
      ],
    ]);
    // render(<div id="cal-heatmap"></div>);
  </script>
</body>

</html>